<style>
.p__product_custom {
    width: 100%;
    height: auto; 
}
.p__product_custom img { 
    width: 100%;
    height: 100%;
    object-fit: cover;
}
.p__product_custom ul {
    padding: 10px 0 10px 20px;
    margin: 0;
}   
.p__product_custom li {
    list-style: none;
    padding: 0;
}
.p__product_custom .container {
    max-width: 1150px;
    margin: 0 auto;
    padding: 0 30px;
}
.p__product_custom  .product_inner {
    display: flex;
    gap: 40px;
    align-items: flex-start;
}
.p__product_custom .product_image, 
.p__product_custom .product_content {
    width: 100%;
    max-width: 50%;
}
.p__product_custom .varints_name {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    padding-bottom: 30px;
}
.p__product_custom h2 {
    color: var(--neutral-07100, #141718);
    font-feature-settings: 'clig' off, 'liga' off;
    font-family: Poppins;
    font-size: 40px;
    font-style: normal;
    font-weight: 500;
    line-height: 44px;
    letter-spacing: -0.4px;
    padding-bottom: 10px;
    margin: 0;
}
.p__product_custom h4 {
    color: var(--Black-900, #121212);
    font-feature-settings: 'clig' off, 'liga' off;
    font-family: Poppins;
    font-size: 28px;
    font-style: normal;
    font-weight: 500;
    line-height: 34px;
    letter-spacing: -0.6px;
} 
.p__product_custom span.desc {
    padding: 10px 0;
    display: block;
}
.p__product_custom span.desc,
.p__product_custom span.desc p {
    color: var(--neutral-04100, #6C7275);
    font-feature-settings: 'clig' off, 'liga' off;
    font-family: Inter;
    font-size: 16px;
    font-style: normal;
    font-weight: 400;
    line-height: 26px;
}
.p__product_custom li.variant_btn {
    color: #FFF;
    text-align: center;
    font-family: Inter;
    font-size: 14px;
    line-height: 32px;
    border-radius: 20px;
    background: #141718;
    padding: 10px 10px;
}
ul.variants_images {
    display: flex;
    align-items: center;
    gap: 20px; 
}
.p__product_custom li.variant_img_btn {
    width: 50px;
    height: 50px;
}
.p__product_custom .add_cart_product {
    display: flex;
    align-items: center;
    gap: 25px;
}
.p__product_custom .add_to_cart_btn {
    width: 100%;
}
.p__product_custom button.btn { 
    display: flex;
    width: 100%;
    max-width: 508px;
    padding: 10px 40px;
    justify-content: center;
    align-items: center;
    border-radius: 8px;
    background: var(--neutral-07100, #141718);
    color: #FFF;
    text-align: center;
    font-feature-settings: 'clig' off, 'liga' off;
    font-family: Inter;
    font-size: 18px;
    font-weight: 500;
    line-height: 32px;
    letter-spacing: -0.4px;
    transition: 0.3s ease-in-out;
}
.p__product_custom button.btn:hover {
    background-color: #6C7275;
}
.p__product_custom .quantity-input {
    display: flex;
    width: 120px;
    height: 52px;
    padding: 12px 16px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    border-radius: 8px;
    background: var(--Black-100, #F5F5F5);
}
button.quantity__button {
    width: 20px;
    height: 20px;
}
.quantity__input {
    color: var(--Black-900, #121212);
    text-align: center;
    font-feature-settings: 'clig' off, 'liga' off;
    font-family: Inter;
    font-size: 16px;
    font-style: normal;
    font-weight: 600;
    line-height: 26px; 
    width: 30px;
    height: 100%;
}
.p__product_custom .faq_inner {
    padding: 20px 0;
}
.p__product_custom .accordion {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid #000;
}
.p__product_custom h3 {
    color: var(--neutral-07100, #141718);
    font-family: Inter;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: 32px; 
    letter-spacing: -0.4px;
}
.p__product_custom .panel {
    padding: 10px;
}
@media screen and (max-width: 991px) {
.p__product_custom .product_inner {
    flex-direction: column; 
    gap: 25px;
}
.p__product_custom .product_image, 
.p__product_custom .product_content {
    width: 100%;
    max-width: 100%; 
}
}
@media screen and (max-width: 767px) {
.p__product_custom   .add_cart_product {
    flex-direction: column;
    align-items: flex-start !important;
    gap: 15px;
}
}
</style> 

<h2>Usman </h2>

<section class="p__product_custom">
    <div class="container">
        <div class="product_inner">
            {% if section.settings.product %}
                <div class="product_image">
                    <img id="main-product-image" src="{{ section.settings.product.images[0] | image_url: width: section.settings.product.image.width }}" loading="lazy" alt="{{ section.settings.product.title }}">
                </div>
                <div class="product_content">
                    <h2>{{ section.settings.product.title }}</h2>
                    <h4>{{ section.settings.product.price | money_with_currency }}</h4>
                    <span class="desc">{{ section.settings.product.description }}</span>
                        <ul class="varints_name">
                            {% for variant in section.settings.product.variants %}
                                <li variant-id="{{ variant.id }}" variant-image="{{ variant.featured_image.src }}" class="{% if forloop.first %}active{% endif %} variant_btn">
                                    {{ variant.title }}
                                </li>
                            {% endfor %}
                        </ul>
                    <form id="product-form-{{ section.id }}" action="/cart/add" method="post" enctype="multipart/form-data">
                        <input type="hidden" name="id" value="{{ section.settings.product.variants[0].id }}">
                        <div class="add_cart_product">
                            <div class="quantity-input" data-url="{{ product.url }}" data-section="{{ section.id }}">
                                <button class="quantity__button no-js-hidden" name="minus" type="button">
                                    <span class="visually-hidden">
                                        {{- 'products.product.quantity.decrease' | t: product: product.title | escape -}}
                                    </span>
                                    {% render 'icon-minus' %}
                                </button>
                                <input
                                    class="quantity__input"
                                    type="number"
                                    name="quantity"
                                    id="Quantity-{{ section.id }}"
                                    data-cart-quantity="{{ cart_qty }}"
                                    data-min="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                                    min="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                                    {% if product.selected_or_first_available_variant.quantity_rule.max != null %}
                                        data-max="{{ product.selected_or_first_available_variant.quantity_rule.max }}"
                                        max="{{ product.selected_or_first_available_variant.quantity_rule.max }}"
                                    {% endif %}
                                    step="{{ product.selected_or_first_available_variant.quantity_rule.increment }}"
                                    value="{{ product.selected_or_first_available_variant.quantity_rule.min }}"
                                    form="product-form-{{ section.id }}"
                                >
                                <button class="quantity__button no-js-hidden" name="plus" type="button">
                                    <span class="visually-hidden">
                                        {{- 'products.product.quantity.increase' | t: product: product.title | escape -}}
                                    </span>
                                    {% render 'icon-plus' %}
                                </button>
                            </div>
                            <div class="add_to_cart_btn">
                                <button type="submit" class="btn">Add to Cart</button>
                            </div>
                        </div>
                    </form>
                    <div class="faq_inner">
                        {% for block in section.blocks %}
                            <div class="accordion_inner">
                                {% if block.settings.accordion_heading != blank %}
                                    <div class="accordion">
                                        <h3>{{ block.settings.accordion_heading }}</h3>
                                        <span class="desc">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                            <path d="M6.27246 9L12.2725 15L18.2725 9" stroke="#141718" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                          </svg>
                                        </span>
                                    </div>
                                    <div class="panel">
                                        <span>{{ block.settings.desc }}</span>
                                    </div> 
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            {% endif %}
        </div>
    </div> 
</section>


<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script> 
<script>
$(document).ready(function () {
    $(".accordion_inner:first-child .accordion").addClass('active');
    $(".accordion").click(function () {
        var $panel = $(this).next('.panel');
        $(".accordion").not(this).removeClass('active').next('.panel').slideUp('300');
        $panel.slideToggle('300');
        $(this).toggleClass('active');
        $(".accordion").not(this).find('.plus_svg').show();
        $(".accordion").not(this).find('.minus_svg').hide();
        $(this).find('.plus_svg').toggle(!$panel.is(':visible'));
        $(this).find('.minus_svg').toggle($panel.is(':visible'));
    });
});
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.quantity-input').forEach(input => {
        const [minus, plus] = input.querySelectorAll('button'); 
        const field = input.querySelector('input.quantity__input');
        const updateQuantity = delta => {
            let value = parseInt(field.value, 10) || 0;
            const min = parseInt(field.min, 10) || 0;
            const max = parseInt(field.max, 10) || Infinity;
            const step = parseInt(field.step, 10) || 1;
            field.value = Math.min(Math.max(value + delta * step, min), max);
        };
        minus.addEventListener('click', () => updateQuantity(-1));
        plus.addEventListener('click', () => updateQuantity(1));
    }); 
    const variants = document.querySelectorAll('.varints_name li');
    const hiddenInput = document.querySelector('input[name="id"]');
    const mainProductImage = document.getElementById('main-product-image');
    variants.forEach(variant => {
        variant.addEventListener('click', () => {
            variants.forEach(el => el.classList.remove('active'));
            variant.classList.add('active');
            hiddenInput.value = variant.getAttribute('variant-id');
            const variantImage = variant.getAttribute('variant-image');
            if (variantImage) {
                mainProductImage.src = variantImage;
            }
        });
    });
    document.querySelectorAll('form[id^="product-form-"]').forEach(form => {
        form.addEventListener('submit', event => {
            event.preventDefault();
            fetch(form.action, {
                method: form.method,
                body: new FormData(form),
            }).then(response => {
                if (response.ok) window.location.href = '/cart';
                else console.error('Failed to add to cart');
            }).catch(error => console.error('Error:', error));
        });
    });
});

</script>
{% schema %}
{
"name": "Custom Product Section",
  "settings": [ 
    {
        "type": "product",
        "id": "product", 
        "label": "Product"
    }
],
"blocks":[
  {
    "type":"add_accordion",
    "name":"Add Accordion",
      "settings":[
        {
          "type": "text",
          "id": "accordion_heading",
          "label": "Accordion Heading",
          "default": "Lorem ipsum dolor "
        },
        {
          "type": "richtext", 
          "id": "desc",
          "label": "Description",
          "default":"<p>Tristique nulla aliquet enim tortor at auctor urna..</p>"
        }
    ]
  }
],
  "presets":[  
    {
      "name":"Custom Product Section"
    }
  ]
} 
{% endschema %}